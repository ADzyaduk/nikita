import{m as K,n as R,q as j,s as ie,x as h,_ as D,y as Q,z as se,A as B,B as X,C as Y,D as F,E as ue,G as re,o as r,c as m,a as p,j as de,H as ce,I as N,J as V,d as Z,t as C,K as c,k as S,L as me,l as G,M as P,N as fe,O as E,P as T,b as M,F as q,r as z,Q as A,i as ye,R as J}from"./entry.7837de91.js";function L(e){return typeof e=="function"?e():K(e)}const W=()=>{};function ge(e,l){function a(...t){return new Promise((f,d)=>{Promise.resolve(e(()=>l.apply(this,t),{fn:l,thisArg:this,args:t})).then(f).catch(d)})}return a}function pe(e,l={}){let a,t,f=W;const d=s=>{clearTimeout(s),f(),f=W};return s=>{const y=L(e),n=L(l.maxWait);return a&&d(a),y<=0||n!==void 0&&n<=0?(t&&(d(t),t=null),Promise.resolve(s())):new Promise((g,u)=>{f=l.rejectOnCancel?u:g,n&&!t&&(t=setTimeout(()=>{a&&d(a),t=null,g(s())},n)),a=setTimeout(()=>{t&&d(t),t=null,g(s())},y)})}}function ve(e,l=200,a={}){return ge(pe(l,a),e)}const he=(e,l)=>{const a=R("form-events",void 0),t=R("form-group",void 0),f=R("form-inputs",void 0),d=j(e==null?void 0:e.id);ie(()=>{d.value=(e==null?void 0:e.id)??(t==null?void 0:t.inputId.value),t&&(t.inputId.value=d.value,f&&(f.value[t.name.value]=d))});const o=j(!1);function s(u,b){a&&a.emit({type:u,path:b})}function y(){s("blur",t==null?void 0:t.name.value),o.value=!0}function n(){s("change",t==null?void 0:t.name.value)}const g=ve(()=>{o.value&&s("input",t==null?void 0:t.name.value)},300);return{inputId:d,name:h(()=>(e==null?void 0:e.name)??(t==null?void 0:t.name.value)),size:h(()=>{var b;const u=l.size[t==null?void 0:t.size.value]?t==null?void 0:t.size.value:null;return(e==null?void 0:e.size)??u??((b=l==null?void 0:l.default)==null?void 0:b.size)}),color:h(()=>{var u;return(u=t==null?void 0:t.error)!=null&&u.value?"red":e==null?void 0:e.color}),emitFormBlur:y,emitFormInput:g,emitFormChange:n}};let be=0;function Se(){return`nuid-${be++}`}const H=Q(B.ui.strategy,B.ui.checkbox,se),ke=X({inheritAttrs:!1,props:{id:{type:String,default:()=>Se()},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>H.default.color,validator(e){return B.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","change"],setup(e,{emit:l}){const{ui:a,attrs:t}=Y("checkbox",F(e,"ui"),H,F(e,"class")),{emitFormChange:f,color:d,name:o,inputId:s}=he(e),y=h({get(){return e.modelValue},set(u){l("update:modelValue",u)}}),n=u=>{l("change",u),f()},g=h(()=>ue(re(a.value.base,a.value.rounded,a.value.background,a.value.border,a.value.ring.replaceAll("{color}",d.value),a.value.color.replaceAll("{color}",d.value)),e.inputClass));return{ui:a,attrs:t,toggle:y,inputId:s,name:o,inputClass:g,onChange:n}}}),Ce={class:"flex items-center h-5"},$e=["id","name","required","value","disabled","checked","indeterminate"],Ve={key:0,class:"ms-3 text-sm"},Be=["for"];function we(e,l,a,t,f,d){return r(),m("div",{class:c(e.ui.wrapper)},[p("div",Ce,[de(p("input",N({id:e.inputId,"onUpdate:modelValue":l[0]||(l[0]=o=>e.toggle=o),name:e.name,required:e.required,value:e.value,disabled:e.disabled,checked:e.checked,indeterminate:e.indeterminate,type:"checkbox",class:["form-checkbox",e.inputClass]},e.attrs,{onChange:l[1]||(l[1]=(...o)=>e.onChange&&e.onChange(...o))}),null,16,$e),[[ce,e.toggle]])]),e.label||e.$slots.label?(r(),m("div",Ve,[p("label",{for:e.inputId,class:c(e.ui.label)},[V(e.$slots,"label",{},()=>[Z(C(e.label),1)]),e.required?(r(),m("span",{key:0,class:c(e.ui.required)},"*",2)):S("",!0)],10,Be),e.help?(r(),m("p",{key:0,class:c(e.ui.help)},C(e.help),3)):S("",!0)])):S("",!0)],2)}const _=D(ke,[["render",we]]);function Ie(e){return e?e[0].toUpperCase()+e.slice(1):""}const $=Q(B.ui.strategy,B.ui.table,me);function Ae(e,l){return e===l}const je=X({components:{UButton:G,UIcon:P,UCheckbox:_},inheritAttrs:!1,props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>Ae},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortButton:{type:Object,default:()=>$.default.sortButton},sortAscIcon:{type:String,default:()=>$.default.sortAscIcon},sortDescIcon:{type:String,default:()=>$.default.sortDescIcon},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>$.default.loadingState},emptyState:{type:Object,default:()=>$.default.emptyState},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","update:sort"],setup(e,{emit:l,attrs:a}){const{ui:t,attrs:f}=Y("table",F(e,"ui"),$,F(e,"class")),d=h(()=>e.columns??Object.keys(fe(e.rows[0]??{},["click"])).map(i=>({key:i,label:Ie(i),sortable:!1}))),o=j(E({},e.sort,{column:null,direction:"asc"})),s={column:o.value.column,direction:null},y=h(()=>{var k;if(!((k=o.value)!=null&&k.column))return e.rows;const{column:i,direction:v}=o.value;return e.rows.slice().sort((le,oe)=>{const O=T(le,i),U=T(oe,i);return O===U?0:v==="asc"?O<U?-1:1:O>U?-1:1})}),n=h({get(){return e.modelValue},set(i){l("update:modelValue",i)}}),g=h(()=>n.value&&n.value.length>0&&n.value.length<e.rows.length),u=h(()=>e.emptyState===null?null:{...t.value.default.emptyState,...e.emptyState}),b=h(()=>e.loadingState===null?null:{...t.value.default.loadingState,...e.loadingState});function w(i,v){if(typeof e.by=="string"){const k=e.by;return(i==null?void 0:i[k])===(v==null?void 0:v[k])}return e.by(i,v)}function I(i){return e.modelValue?n.value.some(v=>w(J(v),J(i))):!1}function x(i){if(o.value.column===i.key){const v=!i.direction||i.direction==="asc"?"desc":"asc";o.value.direction===v?o.value=E({},s,{column:null,direction:"asc"}):o.value.direction=o.value.direction==="asc"?"desc":"asc"}else o.value={column:i.key,direction:i.direction||"asc"};l("update:sort",o.value)}function ee(i){a.onSelect&&a.onSelect(i)}function te(){e.rows.forEach(i=>{I(i)||n.value.push(i)})}function ne(i){i.target.checked?te():n.value=[]}function ae(i,v,k="Failed to get cell value"){return T(i,v,k)}return{ui:t,attrs:f,sort:o,columns:d,rows:y,selected:n,indeterminate:g,emptyState:u,loadingState:b,isSelected:I,onSort:x,onSelect:ee,onChange:ne,getRowData:ae}}}),Fe={key:1},De={key:0},Oe=["colspan"],Ue={key:1},Re=["colspan"],Te=["onClick"];function qe(e,l,a,t,f,d){const o=_,s=G,y=P;return r(),m("div",N({class:e.ui.wrapper},e.attrs),[p("table",{class:c([e.ui.base,e.ui.divide])},[p("thead",{class:c(e.ui.thead)},[p("tr",{class:c(e.ui.tr.base)},[e.modelValue?(r(),m("th",{key:0,scope:"col",class:c(e.ui.checkbox.padding)},[M(o,{checked:e.indeterminate||e.selected.length===e.rows.length,indeterminate:e.indeterminate,"aria-label":"Select all",onChange:e.onChange},null,8,["checked","indeterminate","onChange"])],2)):S("",!0),(r(!0),m(q,null,z(e.columns,(n,g)=>(r(),m("th",{key:g,scope:"col",class:c([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,n.class])},[V(e.$slots,`${n.key}-header`,{column:n,sort:e.sort,onSort:e.onSort},()=>[n.sortable?(r(),A(s,N({key:0},{...e.ui.default.sortButton,...e.sortButton},{icon:!e.sort.column||e.sort.column!==n.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:n[e.columnAttribute],onClick:u=>e.onSort(n)}),null,16,["icon","label","onClick"])):(r(),m("span",Fe,C(n[e.columnAttribute]),1))])],2))),128))],2)],2),p("tbody",{class:c(e.ui.tbody)},[e.loadingState&&e.loading?(r(),m("tr",De,[p("td",{colspan:e.columns.length+(e.modelValue?1:0)},[V(e.$slots,"loading-state",{},()=>[p("div",{class:c(e.ui.loadingState.wrapper)},[e.loadingState.icon?(r(),A(y,{key:0,name:e.loadingState.icon,class:c(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):S("",!0),p("p",{class:c(e.ui.loadingState.label)},C(e.loadingState.label),3)],2)])],8,Oe)])):e.emptyState&&!e.rows.length?(r(),m("tr",Ue,[p("td",{colspan:e.columns.length+(e.modelValue?1:0)},[V(e.$slots,"empty-state",{},()=>[p("div",{class:c(e.ui.emptyState.wrapper)},[e.emptyState.icon?(r(),A(y,{key:0,name:e.emptyState.icon,class:c(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):S("",!0),p("p",{class:c(e.ui.emptyState.label)},C(e.emptyState.label),3)],2)])],8,Re)])):(r(!0),m(q,{key:2},z(e.rows,(n,g)=>(r(),m("tr",{key:g,class:c([e.ui.tr.base,e.isSelected(n)&&e.ui.tr.selected,e.$attrs.onSelect&&e.ui.tr.active,n==null?void 0:n.class]),onClick:()=>e.onSelect(n)},[e.modelValue?(r(),m("td",{key:0,class:c(e.ui.checkbox.padding)},[M(o,{modelValue:e.selected,"onUpdate:modelValue":l[0]||(l[0]=u=>e.selected=u),value:n,"aria-label":"Select row",onClick:l[1]||(l[1]=ye(()=>{},["stop"]))},null,8,["modelValue","value"])],2)):S("",!0),(r(!0),m(q,null,z(e.columns,(u,b)=>{var w;return r(),m("td",{key:b,class:c([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size,(w=n[u.key])==null?void 0:w.class])},[V(e.$slots,`${u.key}-data`,{column:u,row:n,index:g,getRowData:I=>e.getRowData(n,u.key,I)},()=>[Z(C(e.getRowData(n,u.key)),1)])],2)}),128))],10,Te))),128))],2)],2)],16)}const ze=D(je,[["render",qe]]);const Ne={class:"mx-10"},Me={key:0},Ee={__name:"PricePage",setup(e){const l=[{name:"Обеспыливание стен",price:50,unit:"м²"},{name:"Грунтование стен",price:50,unit:"м²"},{name:"Покраска стен (один слой)",price:100,unit:"м²"},{name:"Покраска стен в 2 слоя",price:180,unit:"м²"},{name:"Покраска потолка (один слой)",price:150,unit:"м²"},{name:"Покраска потолка (2 слоя)",price:250,unit:"м²"},{name:"Покраска коммуникаций",price:300,unit:"п.м"},{name:"Покраска дверей скрытого монтажа",price:1500,unit:"шт"},{name:"Покраска багетов",price:200,unit:"п.м"},{name:"Покраска плинтусов",price:200,unit:"п.м"},{name:"Покраска молдингов",price:200,unit:"от 200р"},{name:"Частичная шпаклевка царапин, сколов на стенах",price:150,unit:"м²"},{name:"Покраска обоев (2 слоя)",price:300,unit:"м²"},{name:"Покраска радиатора",price:1e3,unit:"шт"},{name:"Покраска подоконника (масляной краской)",price:700,unit:"шт"},{name:"Покраска металлоконструкций",price:100,unit:"п.м"},{name:"Укрывка окон",price:150,unit:"м²"},{name:"Укрывка полов",price:70,unit:"м²"},{name:"Укрывание прочих элементов",price:0,unit:"оговаривается"}],a=j([]);function t(o){const s=a.value.findIndex(y=>y.name===o.name);s===-1?a.value.push({name:o.name,price:o.price}):a.value.splice(s,1)}function f(){return a.value.reduce((o,s)=>o+s.price,0)}function d(o){return{"selected-row":a.value.some(s=>s.name===o.name)}}return(o,s)=>{const y=ze;return r(),m("div",Ne,[M(y,{rows:l,onSelect:t,"row-class":d}),K(a).length>0?(r(),m("div",Me,[p("p",null,"Итого: "+C(f())+" руб.",1)])):S("",!0)])}}},Je=D(Ee,[["__scopeId","data-v-a04c0dfc"]]),Le={};function We(e,l){const a=Je;return r(),A(a)}const Ke=D(Le,[["render",We]]);export{Ke as default};
